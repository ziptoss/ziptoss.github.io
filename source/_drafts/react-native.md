---
title: 집토스 모바일 앱의 리액트네이티브로의 전환을 시작했습니다!
---

## 배경

2021년 3월, 기존 안드로이드 네이티브로 되어있던 집토스 앱을 리액트네이티브(이하 RN)로 전환을 하기 위해 첫 발을 내딛었습니다.
집토스는 기존 안드로이드와 iOS 각 개발자 1분씩 담당하여 네이티브 앱을 개발하고 있었습니다. 현재 규모상 플랫폼당 여러명의 개발자를 유지하기는 힘든 상황에서 자유로운 코드 공유 및 공동 작업을 위한 환경을 만들기가 어렵다고 판단한것이 전환을 결정하게 된 가장 큰 이유였습니다. 안드로이드 플랫폼은 개발자가 자주 바뀌고 개발자가 없는 상황에서 외주를 맡겨 작업한 부분도 있었고, 언어 또한 자바와 코틀린이 뒤섞여 있어 채용이나 유지보수, 개선에 있어 많은 노력이 들 것이라고 판단이 되었습니다. 기존 레거시 웹을 리액트로 전환하고 있어 개발스택을 통일할 수 있다는 것이 가장 큰 장점이라고 생각할 수 있겠습니다.

금번 집토스 리브랜딩 시즌을 맞아 우선 안드로이드앱에 대해 RN으로의 전환을 진행하기로 했습니다. 기존 안드로이드 개발자를 포함한 2명이 함께 안드로이드 앱을 리액트네이티브로 전환하기 시작했습니다. 

### 기대 (했던|되는) 장점
리액트 네이티브로 전환시에 리액트 개발 인력들을 그대로 활용할 수 있을것이라고 기대가 되었습니다. 실제로 안드로이드가 나온 시점(4월 현재) 사내의 React 인력들이 PR을 날리기 시작했습니다. 코드리뷰나 개발 진행상황을 크로스체크 할 수 있고 같은 기능이 여러 플랫폼에 추가될때 공통코드를 분리 할수 있을것이라고 기대하고 있습니다

### 우려 됐던 사항
많지는 않지만 특이한 기능들(지도 클러스터: 집토스는 부동산 앱입니다.)을 구현하는데 네이티브가 필요한 부분이 몇 군데 있습니다. 기존의 안드로이드 개발자께서 그련 부분들을 하는데 크게 문제가 없는것을 확인하는 작업이 필요했습니다. 앞으로도 그런 점이 순간순간 발생할 것으로 보이고 추후에 iOS쪽의 작업 가능 여부도 확인해야 하는 불확실성이 있었습니다.

또한 네이티브보다는 확실히 떨어지는 화면 반응성이나 RN 및 연관 라이브러리들의 버그로 인한 크래시에 대한 낮은 대응력, 배포의 어려움 등을 들수 있습니다.

이 우려사항들 모두 기존의 네이티브 개발자들이 있어 큰 문제가 없을 것으로 판단 되었습니다.

## 한달간의 작업
기존 안드로이드 앱은 더이상 기능 추가나 유지보수가 힘든 상황이었습니다. 기존에 다녀 가신(?)분들께서도 다들 다른 플랫폼이나 언어로 시도했던 흔적들이 곳곳에 남아 있고, 이미 너무 많은 개발자분이 다양한 스타일로 개발을 해놓은 상태여서 하나하나 고치기가 힘들었습니다. iOS는 비교적 한분이 잘 정리를 하고 있어 안드로이드부터 갈아 엎자라는 결정을 하고 한달만에 안드로이드를 오픈해 내는 (내부적으로는 고무적인) 결과를 만들었습니다.

### 결정사항들
#### 타입스크립트
웹쪽에 타입스크립트를 적용하고 있는 상황이었고 나중에 유지보수를 위해 최소한의 장치라고 판단되었습니다.

#### 라이브러리 지옥
React 및 RN 경험자가 1명인 상황에서 redux(와 mobx등, 여타 React 지옥류)을 도입하기에는 무리라고 판단하여 상태관리를 최소화하고, profile 정보 하나만 가지고 있는 딱 하나의 단순한 context만을 사용하여 진행했습니다. 처음부터 너무 많은 library들을 도입하지 않는게 중요 했습니다. 꼭 필요한 라이브러리만을 도입했고 styled-components등은 쳐다보지도 않았습니다. 라이브러리를 도입할때 최대한 서로 상의하려고 노력했습니다. 이 때문에 더 빠르게 진행할 수 있었다고 판단됩니다.

작성중